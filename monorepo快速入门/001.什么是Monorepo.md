# 为什么是Monorepo？

## 前言

本系列课程，目的是教会你如何搭建Typescript的Monorepo仓库，因此这门课更像是入门实践课程，我会省略理论知识，只介绍一些基本概念。不论你是刚刚开始职业生涯的新手，还是寻求技能提升的老进阶玩家，本门课都将能够教会你如何构建一个最前沿（截至2023）的Monorepo仓库。

## 你将学会什么？

本课程会用Vue 3作为模板，教你搭建一个拥有多个项目且能够高度复用代码的Monorepo仓库，以下是涉及到的知识点：

+ 框架：Vite + Vue 3
+ 语言：Typescript
+ 状态管理：Pinia
+ CSS：SCSS + Tailwinds
+ UI组件库：Element-Plus
+ 编辑器配置：Editorconfig
+ 语法规范：ESLint + Prettier
+ 提交规范：Commitizen + Commitlint + cz-git
+ 样式规范：StyleLint
+ Monorepo构建系统：Turborepo
+ Test
+ CI
+ ……

## 为什么要学习本课程？

中文互联网上有很多Monorepo资料，有的过于简单，有的技术选型已经过时，几乎没有中文资料系统的介绍了如何搭建一个Vue 3的Monorepo方案，所以我选择记录下我的实践过程为推广出一份力。如前面介绍的，本课程是关于搭建Typescript的Monorepo仓库。当你决定学习本课程的时候，一定多少已经了解过什么是Monorepo以及它有什么作用。我选择Monorepo的理由是因为在我的从业经历里曾遇到两个关于Web项目的难题：

#### 1. 框架代码的复用：
每当开始启动一个新项目的时候，大多数人会选择从旧的项目创建新的分支或者仓库，当这些项目的业务差异越来越大，却又共用着一部分非业务层面的代码时，公共代码的维护会变得十分繁琐，以前的解决办法大多依赖于版本控制系统。

一个真实的例子，我们曾经有多个不同的Mobile项目仓库共用了一套封装好的iOS传感器API的代码，由于iOS对权限控制的更新，我们不得不一个仓库一个仓库的更新同一段代码，这样的方式显得非常愚蠢，虽然类似submodule的方案可以缓解这类问题，但又会引入第二个难题。

#### 2. 组件库的复用：
在国内的大环境下，中小型公司的Web岗位往往面临着巨大的开发压力，极少有机会重构代码，这就造成了相似的项目里充斥着大量重复的业务代码，而无论是提前规划还是重构对开发者的能力都有较高的要求，即便抽成独立的package后，使用和维护的过程也是十分繁琐。

一个真实的例子，一家公司在长期的开发中，沉淀下来了一套成熟的设计规范，不同的项目UI设计里，大部分组件都能够复用，但是由于工期紧张，以及开发团队在宏观上缺少规划，造成了每个项目实现了一套自己的组件。

#### 解决方案

出于上述的两个问题，我选择了Monorepo的方案管理项目，它能有效的解决上述问题，如果你曾经遇到过相似的情况却又不知道该如何解决，那么你一定适合本课程。

## 结尾
虽然本课程用Vue 3讲解，但并不是局限于基于Vue 3的SPA项目，你可以在本课程的基础上扩展出一个能应用于大型项目的Monorepo仓库。理想状态下无论是构建网页的React，还是用于3D渲染的Three.js，又或者是提供API服务的Express，统统都能用本课程教授的Monorepo模式统一管理，具体如何去做，我会在系列课程的最后介绍我的思路。

## 参考
+ [带你了解更全面的 Monorepo - 优劣、踩坑、选型](https://www.modb.pro/db/626876)

+ [Monorepo Explained](https://monorepo.tools/)